<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aquarium - Swim Fish</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        #aquarium {
            width: 100vw;
            height: 100vh;
            background: linear-gradient(to bottom, 
                #1e3a5f 0%, 
                #2a5a8c 30%, 
                #3d7ab8 60%, 
                #5a9fd4 100%);
            position: relative;
            overflow: hidden;
        }

        /* Bubbles decoration */
        .bubble {
            position: absolute;
            bottom: -50px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: rise linear infinite;
        }

        @keyframes rise {
            to {
                bottom: 110vh;
                opacity: 0;
            }
        }

        /* Sand at the bottom */
        #sand {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 80px;
            background: linear-gradient(to bottom, #d4a76a, #c49a6b);
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
        }

        /* Seaweed decoration */
        .seaweed {
            position: absolute;
            bottom: 80px;
            width: 30px;
            height: 120px;
            background: linear-gradient(to right, #2d5016, #3a6b1f);
            border-radius: 15px;
            animation: sway 3s ease-in-out infinite;
            transform-origin: bottom center;
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        /* Fish */
        #fish, #fish2 {
            position: absolute;
            cursor: pointer;
            transition: transform 0.3s ease;
            font-size: 500px;
            filter: hue-rotate(50deg) saturate(3) brightness(1.5) contrast(1.2);
            color: gold;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            user-select: none;
        }

        #fish:hover, #fish2:hover {
            transform: scale(1.1);
        }

        /* Message overlay */
        #message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #ff1744, #f50057, #ff4081);
            padding: 60px 80px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(255, 23, 68, 0.6), 
                        0 0 40px rgba(255, 64, 129, 0.4),
                        inset 0 -3px 20px rgba(255, 255, 255, 0.3);
            font-size: 48px;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transition: transform 0.3s ease;
            border: 5px solid rgba(255, 255, 255, 0.3);
        }

        #message::before {
            content: 'üíù';
            position: absolute;
            top: -30px;
            left: 20px;
            font-size: 60px;
            animation: float 2s ease-in-out infinite;
        }

        #message::after {
            content: '‚ù§Ô∏è';
            position: absolute;
            bottom: -30px;
            right: 30px;
            font-size: 60px;
            animation: float 2s ease-in-out infinite 1s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        #message.show {
            transform: translate(-50%, -50%) scale(1);
        }

        /* Restart button */
        #restart {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            color: #2a5a8c;
            cursor: pointer;
            display: none;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        #restart:hover {
            background: white;
            transform: scale(1.05);
        }

        #restart.show {
            display: block;
        }

        /* Audio control */
        #audioToggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 10px;
            font-size: 24px;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        #audioToggle:hover {
            background: white;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div id="aquarium">
        <div id="sand"></div>
        
        <!-- Seaweed decoration -->
        <div class="seaweed" style="left: 10%; animation-delay: 0s;"></div>
        <div class="seaweed" style="left: 25%; animation-delay: 1s; height: 100px;"></div>
        <div class="seaweed" style="left: 70%; animation-delay: 0.5s;"></div>
        <div class="seaweed" style="left: 85%; animation-delay: 1.5s; height: 90px;"></div>

        <!-- Fish -->
        <div id="fish">üêü</div>
        <div id="fish2">üê°</div>

        <!-- Message -->
        <div id="message">Lucky got a Valentine's fish</div>

        <!-- Restart button -->
        <button id="restart">Restart</button>

        <!-- Audio toggle -->
        <button id="audioToggle" title="Toggle sound">üîä</button>
    </div>

    <!-- Hidden audio element -->
    <audio id="backgroundAudio" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_d1718ab41b.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Fish element and properties
        const fish = document.getElementById('fish');
        const fish2 = document.getElementById('fish2');
        const aquarium = document.getElementById('aquarium');
        const message = document.getElementById('message');
        const restartBtn = document.getElementById('restart');
        const audioToggle = document.getElementById('audioToggle');
        const backgroundAudio = document.getElementById('backgroundAudio');
        
        let isAudioPlaying = false;

        let fishX = Math.random() * (window.innerWidth - 100);
        let fishY = Math.random() * (window.innerHeight - 200) + 50;
        let velocityX = (Math.random() - 0.5) * 12;
        let velocityY = (Math.random() - 0.5) * 12;
        let isSwimming = true;
        let animationId;

        let fish2X = Math.random() * (window.innerWidth - 100);
        let fish2Y = Math.random() * (window.innerHeight - 200) + 50;
        let velocity2X = (Math.random() - 0.5) * 12;
        let velocity2Y = (Math.random() - 0.5) * 12;
        let isSwimming2 = true;
        let animationId2;

        // Initialize fish positions
        fish.style.left = fishX + 'px';
        fish.style.top = fishY + 'px';
        fish2.style.left = fish2X + 'px';
        fish2.style.top = fish2Y + 'px';

        // Create bubbles
        function createBubbles() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    const size = Math.random() * 30 + 10;
                    bubble.style.width = size + 'px';
                    bubble.style.height = size + 'px';
                    bubble.style.left = Math.random() * 100 + '%';
                    bubble.style.animationDuration = (Math.random() * 5 + 5) + 's';
                    bubble.style.animationDelay = Math.random() * 2 + 's';
                    aquarium.appendChild(bubble);

                    // Remove bubble after animation
                    setTimeout(() => bubble.remove(), 12000);
                }, i * 500);
            }
        }

        // Continuous bubble creation
        createBubbles();
        setInterval(createBubbles, 7000);

        // Fish swimming animation
        function swimFish() {
            if (!isSwimming) return;

            // Update position
            fishX += velocityX;
            fishY += velocityY;

            // Bounce off walls (allow 70% hiding, keep 30% visible)
            const fishSize = 500;
            const visiblePortion = fishSize * 0.3; // 30% must remain visible
            const minX = -(fishSize - visiblePortion);
            const maxX = window.innerWidth - visiblePortion;
            const minY = -(fishSize - visiblePortion);
            const maxY = window.innerHeight - 80 - visiblePortion; // Account for sand

            if (fishX <= minX || fishX >= maxX) {
                velocityX *= -1;
                fishX = Math.max(minX, Math.min(fishX, maxX));
            }

            if (fishY <= minY || fishY >= maxY) {
                velocityY *= -1;
                fishY = Math.max(minY, Math.min(fishY, maxY));
            }

            // Random direction changes
            if (Math.random() < 0.02) {
                velocityX += (Math.random() - 0.5) * 4;
                velocityY += (Math.random() - 0.5) * 4;

                // Limit speed
                const speed = Math.sqrt(velocityX * velocityX + velocityY * velocityY);
                const maxSpeed = 15;
                if (speed > maxSpeed) {
                    velocityX = (velocityX / speed) * maxSpeed;
                    velocityY = (velocityY / speed) * maxSpeed;
                }
            }

            // Flip fish based on direction
            if (velocityX > 0) {
                fish.style.transform = 'scaleX(1)';
            } else {
                fish.style.transform = 'scaleX(-1)';
            }

            // Apply position
            fish.style.left = fishX + 'px';
            fish.style.top = fishY + 'px';

            animationId = requestAnimationFrame(swimFish);
        }

        // Fish 2 swimming animation
        function swimFish2() {
            if (!isSwimming2) return;

            // Update position
            fish2X += velocity2X;
            fish2Y += velocity2Y;

            // Bounce off walls (allow 70% hiding, keep 30% visible)
            const fishSize = 500;
            const visiblePortion = fishSize * 0.3; // 30% must remain visible
            const minX = -(fishSize - visiblePortion);
            const maxX = window.innerWidth - visiblePortion;
            const minY = -(fishSize - visiblePortion);
            const maxY = window.innerHeight - 80 - visiblePortion; // Account for sand

            if (fish2X <= minX || fish2X >= maxX) {
                velocity2X *= -1;
                fish2X = Math.max(minX, Math.min(fish2X, maxX));
            }

            if (fish2Y <= minY || fish2Y >= maxY) {
                velocity2Y *= -1;
                fish2Y = Math.max(minY, Math.min(fish2Y, maxY));
            }

            // Random direction changes
            if (Math.random() < 0.02) {
                velocity2X += (Math.random() - 0.5) * 4;
                velocity2Y += (Math.random() - 0.5) * 4;

                const speed = Math.sqrt(velocity2X * velocity2X + velocity2Y * velocity2Y);
                const maxSpeed = 15;
                if (speed > maxSpeed) {
                    velocity2X = (velocity2X / speed) * maxSpeed;
                    velocity2Y = (velocity2Y / speed) * maxSpeed;
                }
            }

            // Flip fish based on direction
            if (velocity2X > 0) {
                fish2.style.transform = 'scaleX(1)';
            } else {
                fish2.style.transform = 'scaleX(-1)';
            }

            // Apply position
            fish2.style.left = fish2X + 'px';
            fish2.style.top = fish2Y + 'px';

            animationId2 = requestAnimationFrame(swimFish2);
        }

        // Start swimming
        swimFish();
        swimFish2();

        // Click handler for fish 1
        fish.addEventListener('click', function(e) {
            e.stopPropagation();
            
            if (isSwimming || isSwimming2) {
                // Stop both fish
                isSwimming = false;
                isSwimming2 = false;
                cancelAnimationFrame(animationId);
                cancelAnimationFrame(animationId2);
                
                // Show message
                message.classList.add('show');
                restartBtn.classList.add('show');
                
                // Stop fish animations
                fish.style.cursor = 'default';
                fish2.style.cursor = 'default';
            }
        });

        // Click handler for fish 2
        fish2.addEventListener('click', function(e) {
            e.stopPropagation();
            
            if (isSwimming || isSwimming2) {
                // Stop both fish
                isSwimming = false;
                isSwimming2 = false;
                cancelAnimationFrame(animationId);
                cancelAnimationFrame(animationId2);
                
                // Show message
                message.classList.add('show');
                restartBtn.classList.add('show');
                
                // Stop fish animations
                fish.style.cursor = 'default';
                fish2.style.cursor = 'default';
            }
        });

        // Restart button handler
        restartBtn.addEventListener('click', function() {
            // Hide message and button
            message.classList.remove('show');
            restartBtn.classList.remove('show');
            
            // Reset fish 1
            isSwimming = true;
            fish.style.cursor = 'pointer';
            velocityX = (Math.random() - 0.5) * 12;
            velocityY = (Math.random() - 0.5) * 12;
            
            // Reset fish 2
            isSwimming2 = true;
            fish2.style.cursor = 'pointer';
            velocity2X = (Math.random() - 0.5) * 12;
            velocity2Y = (Math.random() - 0.5) * 12;
            
            // Resume swimming
            swimFish();
            swimFish2();
        });

        // Handle window resize
        window.addEventListener('resize', function() {
            fishX = Math.min(fishX, window.innerWidth - 80);
            fishY = Math.min(fishY, window.innerHeight - 150);
            fish2X = Math.min(fish2X, window.innerWidth - 80);
            fish2Y = Math.min(fish2Y, window.innerHeight - 150);
        });

        // Audio control
        audioToggle.addEventListener('click', function() {
            if (isAudioPlaying) {
                backgroundAudio.pause();
                audioToggle.textContent = 'üîá';
                isAudioPlaying = false;
            } else {
                backgroundAudio.play().catch(err => console.log('Audio play failed:', err));
                audioToggle.textContent = 'üîä';
                isAudioPlaying = true;
            }
        });

        // Auto-start audio on first user interaction
        let audioStarted = false;
        function startAudio() {
            if (!audioStarted) {
                backgroundAudio.play().catch(err => console.log('Audio autoplay blocked'));
                isAudioPlaying = true;
                audioStarted = true;
            }
        }
        
        document.addEventListener('click', startAudio, { once: true });
    </script>
</body>
</html>
